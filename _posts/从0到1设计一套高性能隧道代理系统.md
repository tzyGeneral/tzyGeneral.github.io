# 从0到1设计一套高性能隧道代理系统

本次主题是使用 Golang 编写一套高性能隧道系统，对性能，稳定性，扩展性提升



## 背景

节点机器都是非常低配，大多数的节点机器CPU都在0.5核 ～ 1核左右，内存在0.5G ~ 2G，带宽在 1M ~ 10M 不等。



另外由于业务需求，机器经常需要拨号，节点服务上下线非常频繁，在这样的前提下，如何设计出一套高健壮，高性能，高扩展的代理系统呢。

## 设计

**Nginx + Lua**

生命周期

+ 用户选择合适出口服务器
+ 服务器随机选择合适的节点服务器
+ 出口nginx进程与节点服务squid进程建立连接，转发流量



